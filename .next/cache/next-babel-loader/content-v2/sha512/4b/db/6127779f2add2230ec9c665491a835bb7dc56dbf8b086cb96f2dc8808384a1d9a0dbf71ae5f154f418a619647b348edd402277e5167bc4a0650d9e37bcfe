{"ast":null,"code":"var _jsxFileName = \"C:\\\\Program Files (x86)\\\\Ampps\\\\www\\\\auckland-shop-chatbot-admin\\\\src\\\\container\\\\shop\\\\ShopList.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport _ from 'lodash';\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchShops, deleteShop as _deleteShop, confirm } from '../../actions';\nimport { List, ListItem, ListItemText, ListItemSecondaryAction } from '@material-ui/core';\nimport AddShop from './addShop';\nimport Confirm from '../../constants/Confirm';\nimport { useHistory } from 'react-router-dom';\n\nvar ShopList = function ShopList(_ref) {\n  _s();\n\n  var shopList = _ref.shopList,\n      getShopList = _ref.getShopList,\n      open = _ref.open,\n      deleteShop = _ref.deleteShop;\n\n  var _useState = useState(0),\n      id = _useState[0],\n      setID = _useState[1]; //const shopList = useSelector(state => state.shopList);\n  //const dispatch = useDispatch();\n\n\n  var history = useHistory();\n  useEffect(function () {\n    if (shopList.length === 0) getShopList();\n  }, []);\n\n  var delete_shop = function delete_shop(id) {\n    open();\n    setID(id);\n  };\n\n  var renderShop = function renderShop(shopList) {\n    if (!shopList.length) return null;\n    return _.map(shopList, function (shop) {\n      return __jsx(ListItem, {\n        button: true,\n        key: shop.idshop,\n        component: \"a\",\n        onClick: function onClick() {\n          return history.push('/menu/' + shop.idshop);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }\n      }, __jsx(ListItemText, {\n        primary: shop.shop_name,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }\n      }), __jsx(ListItemSecondaryAction, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }\n      }, __jsx(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: function onClick() {\n          return history.push('/edit/' + shop.idshop);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }\n      }, \"Edit\"), __jsx(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: function onClick() {\n          return delete_shop(shop.idshop);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }\n      }, \"Delete\")));\n    });\n  };\n\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, shopList.length === 0 && __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 42\n    }\n  }, \"Loading...\"), shopList.length > 0 && __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, __jsx(List, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, renderShop(shopList)), __jsx(AddShop, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }), __jsx(Confirm, {\n    submit: function submit() {\n      return deleteShop(id);\n    },\n    title: \"Are you sure to delete?\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  })));\n};\n\n_s(ShopList, \"Xtt6+zqiCGTZU2nK3GH8zHNDuH8=\", false, function () {\n  return [useHistory];\n});\n\n_c = ShopList;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    shopList: state.shopList\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getShopList: function getShopList() {\n      dispatch(fetchShops());\n    },\n    deleteShop: function deleteShop(id) {\n      dispatch(_deleteShop(id));\n    },\n    open: function open() {\n      dispatch(confirm(true));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopList);\n\nvar _c;\n\n$RefreshReg$(_c, \"ShopList\");","map":{"version":3,"sources":["C:/Program Files (x86)/Ampps/www/auckland-shop-chatbot-admin/src/container/shop/ShopList.tsx"],"names":["_","React","useState","useEffect","connect","fetchShops","deleteShop","confirm","List","ListItem","ListItemText","ListItemSecondaryAction","AddShop","Confirm","useHistory","ShopList","shopList","getShopList","open","id","setID","history","length","delete_shop","renderShop","map","shop","idshop","push","shop_name","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import _ from 'lodash';\r\nimport React, { useState, useEffect, Component } from 'react';\r\nimport { connect, useSelector, useDispatch } from 'react-redux';\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { AnyAction } from \"redux\";\r\nimport { fetchShops, deleteShop, confirm } from '../../actions';\r\nimport { Link } from 'react-router-dom';\r\nimport { List, ListItem, ListItemText, ListItemSecondaryAction } from '@material-ui/core';\r\nimport AddShop from './addShop';\r\nimport Confirm from '../../constants/Confirm';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\ninterface PropsFromState {\r\n    shopList : []\r\n}\r\n  \r\ninterface propsFromDispatch {\r\n    getShopList:() => void,\r\n    open:() => void,\r\n    deleteShop:(id:number) => void\r\n}\r\n\r\ntype AllProps = PropsFromState & propsFromDispatch;\r\n\r\nconst ShopList : React.FunctionComponent<AllProps> = ({ shopList, getShopList, open, deleteShop }) => {\r\n    const [id, setID] = useState(0);\r\n\t//const shopList = useSelector(state => state.shopList);\r\n\t//const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n\tuseEffect(() => {\r\n\t\tif(shopList.length === 0)\r\n        getShopList();\r\n    },[])\r\n    \r\n    const delete_shop = (id: number) => {\r\n\t\topen();\r\n\t\tsetID(id)\r\n\t}\r\n    const renderShop = (shopList: []) => {\r\n        if(!shopList.length) return null;\r\n\t\treturn _.map(shopList, shop => {\r\n\t\t\treturn (\r\n                <ListItem button key={shop.idshop} component=\"a\" onClick={() => history.push('/menu/' + shop.idshop) } >\r\n                    <ListItemText primary={shop.shop_name} />\r\n                    <ListItemSecondaryAction>\r\n                        <button\r\n                            className=\"btn btn-primary\"\r\n                            onClick={() => history.push('/edit/'+shop.idshop) }\r\n                        >\r\n                            Edit\r\n                        </button>\r\n                        <button \r\n                            className=\"btn btn-secondary\"\r\n                            onClick={() => delete_shop(shop.idshop)}\r\n                        >\r\n                            Delete\r\n                        </button>\r\n                    </ListItemSecondaryAction>\r\n                </ListItem>\r\n\t\t\t);\r\n\t\t});\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            {\r\n                shopList.length === 0 && <div>Loading...</div>\r\n            }\r\n            {\r\n                shopList.length > 0 &&\r\n                <div>\r\n                    <List>\r\n                        {renderShop(shopList)}\r\n                    </List>\r\n                    <AddShop/>\r\n                    <Confirm\r\n                        submit={() => deleteShop(id)}\r\n                        title=\"Are you sure to delete?\"\r\n                    />\r\n                </div>\r\n                \r\n            }\r\n        </div>\r\n    );\r\n}\r\nconst mapStateToProps = state => ({\r\n    shopList: state.shopList\r\n});\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\r\n    return {\r\n        getShopList: () => {\r\n            dispatch(fetchShops());\r\n        },\r\n        deleteShop: (id:number) => {\r\n            dispatch(deleteShop(id))\r\n        },\r\n\t\topen: () => {\r\n\t\t\tdispatch(confirm(true));\r\n\t\t}\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopList)\r\n"]},"metadata":{},"sourceType":"module"}