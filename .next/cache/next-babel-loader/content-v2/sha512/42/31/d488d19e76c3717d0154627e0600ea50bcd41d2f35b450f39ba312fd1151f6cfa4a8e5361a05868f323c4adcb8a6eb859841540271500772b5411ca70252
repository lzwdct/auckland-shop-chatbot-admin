{"ast":null,"code":"var _jsxFileName = \"C:\\\\Program Files (x86)\\\\Ampps\\\\www\\\\auckland-shop-chatbot-admin\\\\src\\\\container\\\\menu\\\\menuList.tsx\";\nvar __jsx = React.createElement;\nimport _ from 'lodash';\nimport React, { useState, useEffect } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { fetchMenus, deleteMenu, confirm } from '../../actions';\nimport AddMenu from './addMenu';\nimport Food from '../../component/Food';\nimport Confirm from '../../constants/Confirm';\n\nconst MenuList = ({\n  match,\n  menu,\n  fetch_menus,\n  deleteMenu,\n  open\n}) => {\n  const {\n    0: id,\n    1: setID\n  } = useState(0);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    fetch_menus(match.params.id);\n  }, []);\n\n  const delete_menu = id => {\n    open();\n    setID(id);\n  };\n\n  const renderPosts = () => {\n    return _.map(menu, item => {\n      return __jsx(\"span\", {\n        key: item.idmenu,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 5\n        }\n      }, __jsx(Food, {\n        onDelete: () => delete_menu(item.idmenu),\n        label: item.menu_name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 6\n        }\n      }));\n    });\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 3\n    }\n  }, menu.length > 0 && renderPosts(), __jsx(AddMenu, {\n    shop_id: match.params.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }\n  }), __jsx(Confirm, {\n    submit: () => deleteMenu(id, match.params.id),\n    title: \"Are you sure to delete?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }\n  }));\n};\n\nconst mapStateToProps = state => ({\n  menu: state.menu\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetch_menus: id => {\n      dispatch(fetchMenus(id));\n    },\n    deleteMenu: (menuid, shopid) => {\n      dispatch(deleteMenu(menuid, shopid));\n    },\n    open: () => {\n      dispatch(confirm(true));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuList);\n/** \r\nclass MenuList extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tid : 0\r\n\t\t}\r\n\t}\r\n\tUNSAFE_componentWillMount(){\r\n\t\tthis.props.fetch_menus(this.props.match.params.id);\r\n\t}\r\n\tdelete_menu(id){\r\n\t\tthis.props.open();\r\n\t\tthis.setState({\r\n\t\t\tid\r\n\t\t});\r\n\t}\r\n\trenderPosts(){\r\n\t\tconst { menu } = this.props;\r\n\r\n\t\treturn _.map(menu, item => {\r\n\t\t\treturn (\r\n\t\t\t\t<span\r\n\t\t\t\t\tkey={item.idmenu}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Food\r\n\t\t\t\t\t\tonDelete={() => this.delete_menu(item.idmenu)}\r\n\t\t\t\t\t\tlabel={item.menu_name}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\trender(){\r\n\t\tconst { menu } = this.props;\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t{ menu.length > 0 && this.renderPosts()}\r\n\t\t\t\t<AddMenu shop_id={this.props.match.params.id} />\r\n\t\t\t\t<Confirm\r\n\t\t\t\t\tsubmit={() => this.props.deleteMenu(this.state.id, this.props.match.params.id)}\r\n\t\t\t\t\ttitle=\"Are you sure to delete?\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    menu: state.menu\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        fetch_menus: (id) => {\r\n            dispatch(fetchMenus(id));\r\n        },\r\n        deleteMenu: (menuid, shopid) => {\r\n            dispatch(deleteMenu(menuid, shopid));\r\n        },\r\n        deleteShop: () => {\r\n            dispatch(deleteShop());\r\n\t\t},\r\n\t\topen: () => {\r\n\t\t\tdispatch(confirm(true));\r\n\t\t}\r\n    }\r\n}\r\n\r\nMenuList = connect(mapStateToProps, mapDispatchToProps)(MenuList)\r\n\r\nexport default MenuList\r\n*/","map":{"version":3,"sources":["C:/Program Files (x86)/Ampps/www/auckland-shop-chatbot-admin/src/container/menu/menuList.tsx"],"names":["_","React","useState","useEffect","connect","useDispatch","fetchMenus","deleteMenu","confirm","AddMenu","Food","Confirm","MenuList","match","menu","fetch_menus","open","id","setID","dispatch","params","delete_menu","renderPosts","map","item","idmenu","menu_name","length","mapStateToProps","state","mapDispatchToProps","menuid","shopid"],"mappings":"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","sourcesContent":["import _ from 'lodash';\r\nimport React, { useState, useEffect, Component } from 'react';\r\nimport { connect, useSelector, useDispatch } from 'react-redux';\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { AnyAction } from \"redux\";\r\nimport { fetchMenus, deleteMenu, confirm } from '../../actions';\r\n\r\nimport AddMenu from './addMenu';\r\nimport Food from '../../component/Food';\r\nimport Confirm from '../../constants/Confirm';\r\n\r\ninterface PropsFromState {\r\n\tmatch: any,\r\n\tmenu: any\r\n}\r\n  \r\ninterface propsFromDispatch {\r\n\tfetch_menus: (id: number) => void,\r\n\tdeleteMenu: (menuid: number, shopid: number) => void,\r\n\topen: () => void\r\n}\r\n\r\ntype AllProps = PropsFromState & propsFromDispatch;\r\n\r\nconst MenuList : React.FunctionComponent<AllProps> = ({ match, menu, fetch_menus, deleteMenu, open }) => {\r\n\tconst [id, setID] = useState(0);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch_menus(match.params.id);\r\n\t},[])\r\n\r\n\tconst delete_menu = (id) => {\r\n\t\topen()\r\n\t\tsetID(id)\r\n\t}\r\n\tconst renderPosts = () => {\r\n\t\treturn _.map(menu, item => {\r\n\t\t\treturn (\r\n\t\t\t\t<span\r\n\t\t\t\t\tkey={item.idmenu}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Food\r\n\t\t\t\t\t\tonDelete={() => delete_menu(item.idmenu)}\r\n\t\t\t\t\t\tlabel={item.menu_name}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t{ menu.length > 0 && renderPosts()}\r\n\t\t\t<AddMenu shop_id={match.params.id} />\r\n\t\t\t<Confirm\r\n\t\t\t\tsubmit={() => deleteMenu(id, match.params.id)}\r\n\t\t\t\ttitle=\"Are you sure to delete?\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    menu: state.menu\r\n});\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\r\n    return {\r\n        fetch_menus: (id) => {\r\n            dispatch(fetchMenus(id));\r\n        },\r\n        deleteMenu: (menuid, shopid) => {\r\n            dispatch(deleteMenu(menuid, shopid));\r\n        },\r\n\t\topen: () => {\r\n\t\t\tdispatch(confirm(true));\r\n\t\t}\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuList)\r\n\r\n/** \r\nclass MenuList extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tid : 0\r\n\t\t}\r\n\t}\r\n\tUNSAFE_componentWillMount(){\r\n\t\tthis.props.fetch_menus(this.props.match.params.id);\r\n\t}\r\n\tdelete_menu(id){\r\n\t\tthis.props.open();\r\n\t\tthis.setState({\r\n\t\t\tid\r\n\t\t});\r\n\t}\r\n\trenderPosts(){\r\n\t\tconst { menu } = this.props;\r\n\r\n\t\treturn _.map(menu, item => {\r\n\t\t\treturn (\r\n\t\t\t\t<span\r\n\t\t\t\t\tkey={item.idmenu}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Food\r\n\t\t\t\t\t\tonDelete={() => this.delete_menu(item.idmenu)}\r\n\t\t\t\t\t\tlabel={item.menu_name}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\trender(){\r\n\t\tconst { menu } = this.props;\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t{ menu.length > 0 && this.renderPosts()}\r\n\t\t\t\t<AddMenu shop_id={this.props.match.params.id} />\r\n\t\t\t\t<Confirm\r\n\t\t\t\t\tsubmit={() => this.props.deleteMenu(this.state.id, this.props.match.params.id)}\r\n\t\t\t\t\ttitle=\"Are you sure to delete?\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    menu: state.menu\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        fetch_menus: (id) => {\r\n            dispatch(fetchMenus(id));\r\n        },\r\n        deleteMenu: (menuid, shopid) => {\r\n            dispatch(deleteMenu(menuid, shopid));\r\n        },\r\n        deleteShop: () => {\r\n            dispatch(deleteShop());\r\n\t\t},\r\n\t\topen: () => {\r\n\t\t\tdispatch(confirm(true));\r\n\t\t}\r\n    }\r\n}\r\n\r\nMenuList = connect(mapStateToProps, mapDispatchToProps)(MenuList)\r\n\r\nexport default MenuList\r\n*/"]},"metadata":{},"sourceType":"module"}