{"ast":null,"code":"var _jsxFileName = \"C:\\\\Program Files (x86)\\\\Ampps\\\\www\\\\auckland-shop-chatbot-admin\\\\src\\\\container\\\\shop\\\\editShop.tsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchShopDetail, updateShopDetail, snack } from '../../actions';\nimport Snack from '../../constants/Snack';\nimport { useHistory } from 'react-router-dom';\nconst styles = {\n  btn: {\n    padding: '10px'\n  }\n};\n\nconst EditShop = ({\n  match,\n  shopDetail,\n  updateShopDetail,\n  fetchShopDetail\n}) => {\n  const history = useHistory(); //const shopDetail = useSelector(state => state.shopDetail);\n\n  const edit_shop_addr_REF = useRef(null);\n  const edit_shop_phone_REF = useRef(null);\n  const edit_shop_order_REF = useRef(null);\n  useEffect(() => {\n    fetchShopDetail(match.params.id);\n  }, []);\n\n  const edit_shop = e => {\n    e.preventDefault();\n    updateShopDetail(match.params.id, edit_shop_addr_REF.current.value, edit_shop_phone_REF.current.value, edit_shop_order_REF.current.value);\n  };\n\n  const back_shop = e => {\n    e.preventDefault();\n    history.push('/');\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, !shopDetail && __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 32\n    }\n  }, \"Loading...\"), shopDetail && __jsx(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"edit_shop_addr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, \"Shop Address\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"edit_shop_addr\",\n    id: \"edit_shop_addr\",\n    ref: edit_shop_addr_REF,\n    key: \"address\",\n    defaultValue: shopDetail.shop_addr || '',\n    placeholder: \"\\uC2DD\\uB2F9 \\uC8FC\\uC18C\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"edit_shop_phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, \"Shop Phone Number\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"edit_shop_phone\",\n    id: \"edit_shop_phone\",\n    key: \"phone\",\n    ref: edit_shop_phone_REF,\n    defaultValue: shopDetail.shop_phone || '',\n    placeholder: \"\\uC2DD\\uB2F9 \\uC5F0\\uB77D\\uCC98\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"edit_shop_order\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, \"Shop Order\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"edit_shop_order\",\n    id: \"edit_shop_order\",\n    key: \"order\",\n    ref: edit_shop_order_REF,\n    defaultValue: shopDetail.shop_order || 5,\n    className: \"form-control\",\n    placeholder: \"\\uC21C\\uC11C\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, __jsx(\"button\", {\n    className: \"btn btn-primary\",\n    style: styles.btn,\n    onClick: e => edit_shop(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, \"\\uC218\\uC815\"), __jsx(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: e => back_shop(e),\n    style: styles.btn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, \"\\uBA54\\uC778\")), __jsx(Snack, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  })));\n};\n\nconst mapStateToProps = state => ({\n  shopDetail: state.shopDetail\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchShopDetail: id => {\n      dispatch(fetchShopDetail(id));\n    },\n    updateShopDetail: (id, addr, phone, order) => {\n      dispatch(updateShopDetail(id, addr, phone, order));\n      dispatch(snack(true, '정보가 업데이트 되었습니다.'));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditShop);","map":{"version":3,"sources":["C:/Program Files (x86)/Ampps/www/auckland-shop-chatbot-admin/src/container/shop/editShop.tsx"],"names":["React","useEffect","useRef","connect","fetchShopDetail","updateShopDetail","snack","Snack","useHistory","styles","btn","padding","EditShop","match","shopDetail","history","edit_shop_addr_REF","edit_shop_phone_REF","edit_shop_order_REF","params","id","edit_shop","e","preventDefault","current","value","back_shop","push","shop_addr","shop_phone","shop_order","mapStateToProps","state","mapDispatchToProps","dispatch","addr","phone","order"],"mappings":"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","sourcesContent":["import _ from 'lodash';\r\nimport React, { useState, useEffect, useRef, Component } from 'react';\r\nimport { connect, useSelector, useDispatch } from 'react-redux';\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { AnyAction } from \"redux\";\r\nimport { fetchShopDetail, updateShopDetail, snack } from '../../actions';\r\n\r\nimport { browserHistory } from 'react-router';\r\nimport Snack from '../../constants/Snack';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst styles = {\r\n    btn: {\r\n        padding: '10px'\r\n    }\r\n};\r\n\r\ninterface PropsFromState {\r\n    match : any,\r\n    shopDetail: {\r\n        shop_order: string,\r\n        shop_addr: string,\r\n        shop_phone: string\r\n    }\r\n}\r\n  \r\ninterface propsFromDispatch {\r\n\tupdateShopDetail:(id: string, addr: string, phone:string, order:string ) => void,\r\n    fetchShopDetail:(id: string) => void\r\n}\r\n\r\ntype AllProps = PropsFromState & propsFromDispatch;\r\n\r\nconst EditShop : React.FunctionComponent<AllProps> = ({ match, shopDetail, updateShopDetail, fetchShopDetail }) => {\r\n    const history = useHistory();\r\n\r\n    //const shopDetail = useSelector(state => state.shopDetail);\r\n    \r\n    const edit_shop_addr_REF = useRef(null);\r\n    const edit_shop_phone_REF = useRef(null);\r\n    const edit_shop_order_REF = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchShopDetail(match.params.id);\r\n    },[])\r\n    \r\n    const edit_shop = (e) => {\r\n        e.preventDefault();\r\n        updateShopDetail(match.params.id, edit_shop_addr_REF.current.value, edit_shop_phone_REF.current.value, edit_shop_order_REF.current.value)\r\n    }\r\n    const back_shop = (e) => {\r\n        e.preventDefault();\r\n        history.push('/');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                !shopDetail && <div>Loading...</div>\r\n            }\r\n            {shopDetail &&\r\n                <form>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"edit_shop_addr\">Shop Address</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"edit_shop_addr\"\r\n                            id=\"edit_shop_addr\"\r\n                            ref={edit_shop_addr_REF}\r\n                            key=\"address\"\r\n                            defaultValue={shopDetail.shop_addr || ''}\r\n                            placeholder=\"식당 주소\"\r\n                            className=\"form-control\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"edit_shop_phone\">Shop Phone Number</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"edit_shop_phone\"\r\n                            id=\"edit_shop_phone\"\r\n                            key=\"phone\"\r\n                            ref={edit_shop_phone_REF}\r\n                            defaultValue={shopDetail.shop_phone || ''}\r\n                            placeholder=\"식당 연락처\"\r\n                            className=\"form-control\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"edit_shop_order\">Shop Order</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"edit_shop_order\"\r\n                            id=\"edit_shop_order\"\r\n                            key=\"order\"\r\n                            ref={edit_shop_order_REF}\r\n                            defaultValue={shopDetail.shop_order || 5}\r\n                            className=\"form-control\"\r\n                            placeholder=\"순서\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <button\r\n                            className=\"btn btn-primary\"\r\n                            style={styles.btn}\r\n                            onClick={(e) => edit_shop(e)}\r\n                        >\r\n                            수정\r\n                        </button>\r\n                        <button\r\n                            className=\"btn btn-primary\"\r\n                            onClick={(e) => back_shop(e)}\r\n                            style={styles.btn}\r\n                        >\r\n                            메인\r\n                        </button>\r\n                    </div>\r\n                    <Snack />\r\n                </form>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    shopDetail: state.shopDetail\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\r\n    return {\r\n        fetchShopDetail: (id) => {\r\n            dispatch(fetchShopDetail(id));\r\n        },\r\n        updateShopDetail: (id, addr, phone, order) => {\r\n            dispatch(updateShopDetail(id, addr, phone, order));\r\n            dispatch(snack(true, '정보가 업데이트 되었습니다.'))\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditShop)\r\n"]},"metadata":{},"sourceType":"module"}