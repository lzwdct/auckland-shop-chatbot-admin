{"ast":null,"code":"var _jsxFileName = \"C:\\\\Program Files\\\\Ampps\\\\www\\\\auckland-shop-chatbot-admin\\\\src\\\\container\\\\menu\\\\menuList.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport _ from 'lodash';\nimport React, { useState, useEffect } from 'react';\nimport { connect, useSelector, useDispatch } from 'react-redux';\nimport { fetchMenus, deleteMenu as _deleteMenu, deleteShop as _deleteShop, confirm } from '../../actions';\nimport AddMenu from './addMenu';\nimport Food from '../../component/Food';\nimport Confirm from '../../constants/Confirm';\n//import TitleMenu from '../top_menu/menus';\n//import Add_Menu from './add_menu';\nvar styles = {\n  wrapper: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  btnLine: {\n    margin: '10px 0px 30px'\n  },\n  btnEdit: {\n    padding: '10px',\n    border: '0',\n    margin: '10px',\n    borderRadius: '4px',\n    color: '#fff',\n    backgroundColor: '#2fb',\n    textDecorationLine: 'none'\n  },\n  btnDelete: {\n    padding: '10px',\n    border: '0',\n    margin: '10px',\n    borderRadius: '4px',\n    color: '#fff',\n    backgroundColor: '#f2b',\n    textDecorationLine: 'none'\n  }\n};\n\nvar MenuList = function MenuList(_ref) {\n  _s();\n\n  var fetch_menus = _ref.fetch_menus,\n      deleteMenu = _ref.deleteMenu,\n      deleteShop = _ref.deleteShop,\n      open = _ref.open;\n\n  var _useState = useState(0),\n      id = _useState[0],\n      setID = _useState[1];\n\n  var menu = useSelector(function (state) {\n    return state.menu;\n  });\n  var dispatch = useDispatch();\n  useEffect(function () {\n    fetch_menus(props.match.params.id);\n  }, []);\n\n  var delete_menu = function delete_menu(id) {\n    open();\n    setID(id);\n  };\n\n  var renderPosts = function renderPosts() {\n    return _.map(menu, function (item) {\n      return __jsx(\"span\", {\n        key: item.idmenu,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 5\n        }\n      }, __jsx(Food, {\n        onDelete: function onDelete() {\n          return delete_menu(item.idmenu);\n        },\n        label: item.menu_name,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 6\n        }\n      }));\n    });\n  };\n\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 3\n    }\n  }, menu.length > 0 && renderPosts(), __jsx(AddMenu, {\n    shop_id: props.match.params.id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 4\n    }\n  }), __jsx(Confirm, {\n    submit: function submit() {\n      return dispatch(deleteMenu(id, props.match.params.id));\n    },\n    title: \"Are you sure to delete?\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 4\n    }\n  }));\n};\n\n_s(MenuList, \"ZpDYvEz1/xIyPpbBJsLIv2sS9Hg=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = MenuList;\n\nvar mapStateToProps = function mapStateToProps() {\n  return {};\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    fetch_menus: function fetch_menus(id) {\n      dispatch(fetchMenus(id));\n    },\n    deleteMenu: function deleteMenu(menuid, shopid) {\n      dispatch(_deleteMenu(menuid, shopid));\n    },\n    deleteShop: function deleteShop() {\n      dispatch(_deleteShop());\n    },\n    open: function open() {\n      dispatch(confirm(true));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuList);\n/** \r\nclass MenuList extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tid : 0\r\n\t\t}\r\n\t}\r\n\tUNSAFE_componentWillMount(){\r\n\t\tthis.props.fetch_menus(this.props.match.params.id);\r\n\t}\r\n\tdelete_menu(id){\r\n\t\tthis.props.open();\r\n\t\tthis.setState({\r\n\t\t\tid\r\n\t\t});\r\n\t}\r\n\trenderPosts(){\r\n\t\tconst { menu } = this.props;\r\n\r\n\t\treturn _.map(menu, item => {\r\n\t\t\treturn (\r\n\t\t\t\t<span\r\n\t\t\t\t\tkey={item.idmenu}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Food\r\n\t\t\t\t\t\tonDelete={() => this.delete_menu(item.idmenu)}\r\n\t\t\t\t\t\tlabel={item.menu_name}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\trender(){\r\n\t\tconst { menu } = this.props;\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t{ menu.length > 0 && this.renderPosts()}\r\n\t\t\t\t<AddMenu shop_id={this.props.match.params.id} />\r\n\t\t\t\t<Confirm\r\n\t\t\t\t\tsubmit={() => this.props.deleteMenu(this.state.id, this.props.match.params.id)}\r\n\t\t\t\t\ttitle=\"Are you sure to delete?\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    menu: state.menu\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        fetch_menus: (id) => {\r\n            dispatch(fetchMenus(id));\r\n        },\r\n        deleteMenu: (menuid, shopid) => {\r\n            dispatch(deleteMenu(menuid, shopid));\r\n        },\r\n        deleteShop: () => {\r\n            dispatch(deleteShop());\r\n\t\t},\r\n\t\topen: () => {\r\n\t\t\tdispatch(confirm(true));\r\n\t\t}\r\n    }\r\n}\r\n\r\nMenuList = connect(mapStateToProps, mapDispatchToProps)(MenuList)\r\n\r\nexport default MenuList\r\n*/\n\nvar _c;\n\n$RefreshReg$(_c, \"MenuList\");","map":{"version":3,"sources":["C:/Program Files/Ampps/www/auckland-shop-chatbot-admin/src/container/menu/menuList.tsx"],"names":["_","React","useState","useEffect","connect","useSelector","useDispatch","fetchMenus","deleteMenu","deleteShop","confirm","AddMenu","Food","Confirm","styles","wrapper","display","flexWrap","btnLine","margin","btnEdit","padding","border","borderRadius","color","backgroundColor","textDecorationLine","btnDelete","MenuList","fetch_menus","open","id","setID","menu","state","dispatch","props","match","params","delete_menu","renderPosts","map","item","idmenu","menu_name","length","mapStateToProps","mapDispatchToProps","menuid","shopid"],"mappings":"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","sourcesContent":["import _ from 'lodash';\r\nimport React, { useState, useEffect, Component } from 'react';\r\nimport { connect, useSelector, useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { AnyAction } from \"redux\";\r\nimport { fetchMenus, deleteMenu, deleteShop, confirm } from '../../actions';\r\n\r\nimport AddMenu from './addMenu';\r\nimport Food from '../../component/Food';\r\nimport Confirm from '../../constants/Confirm';\r\n\r\nimport { Dialog, FlatButton, RaisedButton } from '@material-ui/core';\r\n//import TitleMenu from '../top_menu/menus';\r\n//import Add_Menu from './add_menu';\r\n\r\n\r\nconst styles = {\r\n  wrapper: {\r\n  \tdisplay: 'flex',\r\n  \tflexWrap: 'wrap'\r\n  },\r\n  btnLine: {\r\n  \tmargin: '10px 0px 30px'\r\n  },\r\n  btnEdit: {\r\n  \tpadding: '10px',\r\n    border: '0',\r\n    margin: '10px',\r\n    borderRadius: '4px',\r\n    color: '#fff',\r\n    backgroundColor: '#2fb',\r\n    textDecorationLine: 'none'\r\n  },\r\n  btnDelete: {\r\n  \tpadding: '10px',\r\n    border: '0',\r\n    margin: '10px',\r\n    borderRadius: '4px',\r\n    color: '#fff',\r\n    backgroundColor: '#f2b',\r\n    textDecorationLine: 'none'\r\n  }\r\n};\r\n\r\ninterface PropsFromState {\r\n\tmatch: any\r\n  }\r\n  \r\ninterface propsFromDispatch {\r\n\tfetch_menus: (id: Number) => void,\r\n\tdeleteMenu: (menuid: Number, shopid: Number) => void,\r\n\tdeleteShop: () => void,\r\n\topen: () => void\r\n}\r\n\r\ntype AllProps = PropsFromState & propsFromDispatch;\r\n\r\nconst MenuList : React.FunctionComponent<AllProps> = ({ fetch_menus, deleteMenu, deleteShop, open }) => {\r\n\tconst [id, setID] = useState(0);\r\n\tconst menu = useSelector(state => state.menu);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch_menus(props.match.params.id);\r\n\t},[])\r\n\r\n\tconst delete_menu = (id) => {\r\n\t\topen()\r\n\t\tsetID(id)\r\n\t}\r\n\tconst renderPosts = () => {\r\n\t\treturn _.map(menu, item => {\r\n\t\t\treturn (\r\n\t\t\t\t<span\r\n\t\t\t\t\tkey={item.idmenu}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Food\r\n\t\t\t\t\t\tonDelete={() => delete_menu(item.idmenu)}\r\n\t\t\t\t\t\tlabel={item.menu_name}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t{ menu.length > 0 && renderPosts()}\r\n\t\t\t<AddMenu shop_id={props.match.params.id} />\r\n\t\t\t<Confirm\r\n\t\t\t\tsubmit={() => dispatch(deleteMenu(id, props.match.params.id))}\r\n\t\t\t\ttitle=\"Are you sure to delete?\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = () => ({});\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\r\n    return {\r\n        fetch_menus: (id) => {\r\n            dispatch(fetchMenus(id));\r\n        },\r\n        deleteMenu: (menuid, shopid) => {\r\n            dispatch(deleteMenu(menuid, shopid));\r\n        },\r\n        deleteShop: () => {\r\n            dispatch(deleteShop());\r\n\t\t},\r\n\t\topen: () => {\r\n\t\t\tdispatch(confirm(true));\r\n\t\t}\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuList)\r\n\r\n/** \r\nclass MenuList extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tid : 0\r\n\t\t}\r\n\t}\r\n\tUNSAFE_componentWillMount(){\r\n\t\tthis.props.fetch_menus(this.props.match.params.id);\r\n\t}\r\n\tdelete_menu(id){\r\n\t\tthis.props.open();\r\n\t\tthis.setState({\r\n\t\t\tid\r\n\t\t});\r\n\t}\r\n\trenderPosts(){\r\n\t\tconst { menu } = this.props;\r\n\r\n\t\treturn _.map(menu, item => {\r\n\t\t\treturn (\r\n\t\t\t\t<span\r\n\t\t\t\t\tkey={item.idmenu}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Food\r\n\t\t\t\t\t\tonDelete={() => this.delete_menu(item.idmenu)}\r\n\t\t\t\t\t\tlabel={item.menu_name}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\trender(){\r\n\t\tconst { menu } = this.props;\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t{ menu.length > 0 && this.renderPosts()}\r\n\t\t\t\t<AddMenu shop_id={this.props.match.params.id} />\r\n\t\t\t\t<Confirm\r\n\t\t\t\t\tsubmit={() => this.props.deleteMenu(this.state.id, this.props.match.params.id)}\r\n\t\t\t\t\ttitle=\"Are you sure to delete?\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    menu: state.menu\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        fetch_menus: (id) => {\r\n            dispatch(fetchMenus(id));\r\n        },\r\n        deleteMenu: (menuid, shopid) => {\r\n            dispatch(deleteMenu(menuid, shopid));\r\n        },\r\n        deleteShop: () => {\r\n            dispatch(deleteShop());\r\n\t\t},\r\n\t\topen: () => {\r\n\t\t\tdispatch(confirm(true));\r\n\t\t}\r\n    }\r\n}\r\n\r\nMenuList = connect(mapStateToProps, mapDispatchToProps)(MenuList)\r\n\r\nexport default MenuList\r\n*/"]},"metadata":{},"sourceType":"module"}